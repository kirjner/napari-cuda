"""Protocol definitions for napari-cuda client-server communication."""

from __future__ import annotations

from .envelopes import (
    ACK_STATE_TYPE,
    CALL_COMMAND_TYPE,
    ERROR_COMMAND_TYPE,
    NOTIFY_CAMERA_TYPE,
    NOTIFY_DIMS_TYPE,
    NOTIFY_ERROR_TYPE,
    NOTIFY_LAYERS_TYPE,
    NOTIFY_SCENE_TYPE,
    NOTIFY_STREAM_TYPE,
    NOTIFY_TELEMETRY_TYPE,
    PROTO_VERSION,
    REPLY_COMMAND_TYPE,
    SESSION_ACK_TYPE,
    SESSION_GOODBYE_TYPE,
    SESSION_HEARTBEAT_TYPE,
    SESSION_HELLO_TYPE,
    SESSION_REJECT_TYPE,
    SESSION_WELCOME_TYPE,
    AckState,
    AckStatePayload,
    CallCommand,
    CallCommandPayload,
    ErrorCommand,
    ErrorCommandPayload,
    FeatureToggle,
    FrameEnvelope,
    ResumableCursor,
    ResumableTopicSequencer,
    HelloAuthInfo,
    HelloClientInfo,
    NotifyCamera,
    NotifyCameraPayload,
    NotifyDims,
    NotifyDimsPayload,
    NotifyError,
    NotifyErrorPayload,
    NotifyLayers,
    NotifyLayersPayload,
    NotifyScene,
    NotifyScenePayload,
    NotifyStream,
    NotifyStreamPayload,
    NotifyTelemetry,
    NotifyTelemetryPayload,
    ReplyCommand,
    ReplyCommandPayload,
    SessionAck,
    SessionAckPayload,
    SessionGoodbye,
    SessionGoodbyePayload,
    SessionHeartbeat,
    SessionHeartbeatPayload,
    SessionHello,
    SessionHelloPayload,
    SessionReject,
    SessionRejectPayload,
    SessionWelcome,
    SessionWelcomePayload,
    StateUpdate,
    StateUpdatePayload,
    WelcomeSessionInfo,
    build_ack_state,
    build_call_command,
    build_error_command,
    build_notify_camera,
    build_notify_dims,
    build_notify_error,
    build_notify_layers_delta,
    build_notify_scene_snapshot,
    build_notify_stream,
    build_notify_telemetry,
    build_reply_command,
    build_session_hello,
    build_session_heartbeat,
    build_session_ack,
    build_session_goodbye,
    build_session_reject,
    build_session_welcome,
    build_state_update,
)
from .messages import (
    STATE_UPDATE_TYPE,
    CameraUpdate,
    Command,
    DimsUpdate,
    FrameMessage,
    Response,
    StateMessage,
    StateUpdateMessage,
)
from .parser import Envelope, EnvelopeParser

__all__ = [
    # Legacy exports (compatibility)
    "STATE_UPDATE_TYPE",
    "StateMessage",
    "StateUpdateMessage",
    "FrameMessage",
    "CameraUpdate",
    "DimsUpdate",
    "Command",
    "Response",
    # Greenfield constants
    "PROTO_VERSION",
    "SESSION_HELLO_TYPE",
    "SESSION_WELCOME_TYPE",
    "SESSION_REJECT_TYPE",
    "SESSION_HEARTBEAT_TYPE",
    "SESSION_ACK_TYPE",
    "SESSION_GOODBYE_TYPE",
    "NOTIFY_SCENE_TYPE",
    "NOTIFY_LAYERS_TYPE",
    "NOTIFY_STREAM_TYPE",
    "NOTIFY_DIMS_TYPE",
    "NOTIFY_CAMERA_TYPE",
    "NOTIFY_TELEMETRY_TYPE",
    "NOTIFY_ERROR_TYPE",
    "ACK_STATE_TYPE",
    "CALL_COMMAND_TYPE",
    "REPLY_COMMAND_TYPE",
    "ERROR_COMMAND_TYPE",
    # Greenfield payloads / frames
    "FrameEnvelope",
    "HelloClientInfo",
    "HelloAuthInfo",
    "FeatureToggle",
    "WelcomeSessionInfo",
    "ResumableCursor",
    "ResumableTopicSequencer",
    "SessionHelloPayload",
    "SessionHello",
    "SessionWelcomePayload",
    "SessionWelcome",
    "SessionRejectPayload",
    "SessionReject",
    "SessionHeartbeatPayload",
    "SessionHeartbeat",
    "SessionAckPayload",
    "SessionAck",
    "SessionGoodbyePayload",
    "SessionGoodbye",
    "NotifyScenePayload",
    "NotifyScene",
    "NotifyLayersPayload",
    "NotifyLayers",
    "NotifyStreamPayload",
    "NotifyStream",
    "NotifyDimsPayload",
    "NotifyDims",
    "NotifyCameraPayload",
    "NotifyCamera",
    "NotifyTelemetryPayload",
    "NotifyTelemetry",
    "NotifyErrorPayload",
    "NotifyError",
    "StateUpdatePayload",
    "StateUpdate",
    "AckStatePayload",
    "AckState",
    "CallCommandPayload",
    "CallCommand",
    "ReplyCommandPayload",
    "ReplyCommand",
    "ErrorCommandPayload",
    "ErrorCommand",
    # Builder helpers
    "build_session_hello",
    "build_session_welcome",
    "build_session_reject",
    "build_session_heartbeat",
    "build_session_ack",
    "build_session_goodbye",
    "build_notify_scene_snapshot",
    "build_notify_layers_delta",
    "build_notify_dims",
    "build_notify_camera",
    "build_notify_telemetry",
    "build_notify_error",
    "build_notify_stream",
    "build_state_update",
    "build_ack_state",
    "build_call_command",
    "build_reply_command",
    "build_error_command",
    # Parser helpers
    "Envelope",
    "EnvelopeParser",
]
